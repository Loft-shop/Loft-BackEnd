# üöÄ CI/CD Pipeline - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤!

## üìÅ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:

### –ü–∞–π–ø–ª–∞–π–Ω—ã (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω):
- `.github/workflows/deploy.yml` - **–ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
- `.github/workflows/deploy-with-registry.yml` - –° Docker Hub (–¥–ª—è production)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `.github/README_CICD.md` - üìñ **–ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `.github/DEPLOYMENT.md` - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `.github/CHECKLIST.md` - –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –°–∫—Ä–∏–ø—Ç—ã:
- `scripts/deploy.sh` - –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `scripts/setup-server.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- `compose.production.yaml` - Docker Compose –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- `.env.production.example` - –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç):

### 1Ô∏è‚É£ –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ SSH –∫–ª—é—á
ssh-keygen -t ed25519 -C "github-deploy" -f ~/.ssh/github_deploy

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∑–∞–º–µ–Ω–∏—Ç–µ username –∏ server-ip)
ssh-copy-id -i ~/.ssh/github_deploy.pub username@server-ip
```

### 2Ô∏è‚É£ –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
scp scripts/setup-server.sh username@server-ip:~
ssh username@server-ip
sudo bash setup-server.sh
```

### 3Ô∏è‚É£ –í GitHub:

–û—Ç–∫—Ä–æ–π—Ç–µ: **Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret**

–î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:
- `SSH_PRIVATE_KEY` ‚Üí —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `~/.ssh/github_deploy`
- `SERVER_HOST` ‚Üí `123.45.67.89` (–≤–∞—à IP)
- `SERVER_USER` ‚Üí `ubuntu` (–≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- `DEPLOY_PATH` ‚Üí `/opt/loft-backend`

### 4Ô∏è‚É£ –ü—É—à—å—Ç–µ –∫–æ–¥:

```bash
git add .
git commit -m "Setup CI/CD"
git push origin main
```

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

---

## üìö –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –û—Ç–∫—Ä–æ–π—Ç–µ `.github/README_CICD.md` - —Ç–∞–º –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
2. –°–ª–µ–¥—É–π—Ç–µ —á–µ–∫–ª–∏—Å—Ç—É –∏–∑ `.github/CHECKLIST.md`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ–ø–ª–æ–π –≤ —Ä–∞–∑–¥–µ–ª–µ **Actions** –Ω–∞ GitHub

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

- –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –õ–æ–≥–∏ –¥–µ–ø–ª–æ—è —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ GitHub Actions
- –õ–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `ssh user@server && docker compose logs`

**–£—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**

